(this["webpackJsonpcounter-app"]=this["webpackJsonpcounter-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),l=a.n(r),i=(a(15),a(6)),o=a(7),s=a(2),u=a(9),m=a(8),d=a(1),v=a(3),h=a.n(v),f=c.a.createContext(),g=function(){return c.a.createElement("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},c.a.createElement("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}))},p=(a(16),function(e){var t=e.movie,a=e.onClose;return c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"content__background"},c.a.createElement("div",{className:"content__background__shadow"}),c.a.createElement("div",{className:"content__background__image",style:{"background-image":"url(".concat(t.imageBg,")")}})),c.a.createElement("div",{className:"content__area"},c.a.createElement("div",{className:"content__area__container"},c.a.createElement("div",{className:"content__title"},t.title),c.a.createElement("div",{className:"content__description"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque et euismod ligula. Morbi mattis pretium eros, ut mollis leo tempus eget. Sed in dui ac ipsum feugiat ultricies. Phasellus vestibulum enim quis quam congue, non fringilla orci placerat. Praesent sollicitudin")),c.a.createElement("button",{className:"content__close",onClick:a},c.a.createElement(g,null))))}),_=function(){return c.a.createElement("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},c.a.createElement("path",{fill:"currentColor",d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"}))},b=(a(17),function(e){var t=e.onClick,a=e.type;return c.a.createElement("button",{className:"slide-button slide-button--".concat(a),onClick:t},c.a.createElement("span",null,c.a.createElement(_,null)))}),E=(a(18),function(e){var t=e.children;return c.a.createElement("div",{className:"slider-wrapper"},t)}),w=function(e,t){var a=Object(n.useRef)(null),c=Object(n.useState)(0),r=Object(d.a)(c,2),l=r[0],i=r[1],o=Object(n.useState)(0),s=Object(d.a)(o,2),u=s[0],m=s[1],v=Object(n.useState)(0),h=Object(d.a)(v,2),f=h[0],g=h[1],p=Object(n.useState)(0),_=Object(d.a)(p,2),b=_[0],E=_[1];Object(n.useEffect)((function(){var t=a.current.clientWidth-110;i(t),g(Math.floor(t/e))}),[a.current]);return{handlePrev:function(){E(b-f),m(u+l)},handleNext:function(){E(b+f),m(u-l)},slideProps:{style:{transform:"translate3d(".concat(u,"px, 0, 0)")}},containerRef:a,hasPrev:u<0,hasNext:b+f<t}},j=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(0),a=Object(d.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){r(e.current.clientWidth)}),[e.current]),{width:c,elementRef:e}},y=(a(19),function(e){var t=e.children,a=e.activeSlide,r=Object(n.useState)(a),l=Object(d.a)(r,2),i=l[0],o=l[1],s=j(),u=s.width,m=s.elementRef,v=w(u,c.a.Children.count(t)),g=v.handlePrev,_=v.handleNext,y=v.slideProps,O=v.containerRef,k=v.hasNext,N=v.hasPrev,S=function(){o(null)},D={onSelectSlide:function(e){o(e)},onCloseSlide:S,elementRef:m,currentSlide:i};return c.a.createElement(f.Provider,{value:D},c.a.createElement(E,null,c.a.createElement("div",{className:h()("slider",{"slider--open":null!=i})},c.a.createElement("div",Object.assign({ref:O,className:"slider__container"},y),t)),N&&c.a.createElement(b,{onClick:g,type:"prev"}),k&&c.a.createElement(b,{onClick:_,type:"next"})),i&&c.a.createElement(p,{movie:i,onClose:S}))}),O=(a(20),function(e){console.log(e),chrome.runtime.sendMessage({msg:"go to new tab",type:e.type,data:e.data})}),k=function(e){var t=e.movie;return c.a.createElement(f.Consumer,null,(function(e){e.onSelectSlide;var a=e.currentSlide,n=e.elementRef,r=a&&a.id===t.id;return c.a.createElement("div",{onClick:function(){return O(t)},ref:n,className:h()("item",{"item--open":r})},c.a.createElement("img",{src:t.image,alt:""}))}))};y.Item=k;var N=y,S=(a(21),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderWatching=function(){return 0!==n.state.watched.length?c.a.createElement(N,null,n.state.watched.map((function(e){return c.a.createElement(N.Item,{movie:e,key:e.id},"item1")}))):null},n.rendertvs=function(){return 0!==n.state.tvs.length?c.a.createElement(N,null,n.state.tvs.map((function(e){return c.a.createElement(N.Item,{movie:e,key:e.id},"item1")}))):null},n.rendermovies=function(){return 0!==n.state.movies.length?c.a.createElement(N,null,n.state.movies.map((function(e){return c.a.createElement(N.Item,{movie:e,key:e.id},"item1")}))):null},n.getMoviesData=function(){var e=n.state.movies;chrome.storage.local.get("stored_movie_recos",function(t){for(var a=t.stored_movie_recos,n=0;n<a.length;n++)e.push({image:"https://image.tmdb.org/t/p/w92"+a[n].title_val.recoData.poster_path,title:a[n].key_title,type:"reco Movie",id:a[n].title_val.recoData.id,data:a[n].title_val.recoData});this.setState({movies:e})}.bind(Object(s.a)(n)))},n.getTVData=function(){var e=n.state.tvs;chrome.storage.local.get("stored_tv_recos",function(t){for(var a=t.stored_tv_recos,n=0;n<a.length;n++)e.push({image:"https://image.tmdb.org/t/p/w92"+a[n].title_val.recoData.poster_path,title:a[n].key_title,type:"reco TV",id:a[n].title_val.recoData.id,data:a[n].title_val.recoData});this.setState({tvs:e})}.bind(Object(s.a)(n)))},n.getWatchedData=function(){var e=n.state.watched;chrome.storage.local.get("stored_titles",function(t){for(var a=t.stored_titles,n=0;n<a.length;n++)e.push({image:"https://image.tmdb.org/t/p/w92"+a[n].title_val.Data.poster_path,title:a[n].key_title,type:a[n].title_val.type,id:a[n].title_val.Data.id,data:a[n].title_val.Data});this.setState({watched:e})}.bind(Object(s.a)(n)))},n.state={movies:[],tvs:[],watched:[]},n}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"app"},c.a.createElement("h2",null,"Recently Watched"),this.renderWatching(),c.a.createElement("h2",null,"TV suggested for you"),this.rendertvs(),c.a.createElement("h2",null,"Movies suggested for you"),this.rendermovies())}},{key:"componentDidMount",value:function(){this.getMoviesData(),this.getTVData(),this.getWatchedData()}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.a14c5de0.chunk.js.map